
<div ng-controller="masterTradesController" ng-init="initializeController()">

    <main class="site-main page-main">
        <div class="container">
            <div class="row">
                <br />
                <section class="page col-sm-9">
                    <table cellspacing="0" cellpadding="0" border="0">
                        <tr>
                            <td style="vertical-align:top">
                                <h2 class="page-title">MANAGE MASTER TRADES</h2>
                            </td>
                        </tr>
                    </table>
                    <table class="table" cellspacing="0" cellpadding="0" border="0">
                        <tr>
                            <td class="input-label-bottom" align="right" style="width:5%"><label>Type:</label></td>
                            <td class="input-box-bottom" style="width:20%">
                                <input ng-model="TradeType" type="text" style="width: 170px" />
                            </td>
                            <td class="input-label-bottom" align="right" style="width:5%"><label>Trading Pair:</label></td>
                            <td class="input-box-bottom" style="width:20%">
                                <input ng-model="TradingPair" type="text" style="width: 170px" />
                            </td>
                            <td class="input-label-bottom" style="width:30%; white-space:nowrap">
                                <button class="btn btn-primary btn-large" ng-click="searchMasterTrades()">Search</button>
                                <button class="btn btn-primary btn-large" ng-click="resetSearchFields()">Reset</button>
                                <button class="btn btn-primary btn-large" ng-click="createNew()">New</button>
                            </td>
                        </tr>
                    </table>

                    <table class="table table-striped table-hover" style="width: 100%;">
                        <thead>

                            <tr>
                                <th colspan="2" style="width: 50%">
                                    <span ng-bind="TotalMasterTrades"></span>&nbsp;Trades
                                </th>
                                <th colspan="5" style="text-align: right; width: 50%">
                                    Page&nbsp;<span ng-bind="CurrentPageNumber"></span>&nbsp;of&nbsp;
                                    <span ng-bind="TotalPages"></span>
                                </th>
                            </tr>

                            <tr>
                                <th ng:repeat="tableHeader in tableHeaders" ng:class="setSortIndicator(tableHeader.label)" ng:click="changeSorting(tableHeader.label)">{{tableHeader.label}}</th>
                            </tr>

                        </thead>
                        <tbody>
                            <tr ng-repeat="mastertrade in mastertrades">
                                <td style="width: 10%; height: 25px"><a ng-href="#Trades/CreateMasterTrade/{{mastertrade.MASTERID}}" style="cursor:pointer; text-decoration:underline; color:black">{{mastertrade.MASTERID}}</a></td>
                                <td style="width: 20%; white-space: nowrap"><div ng-bind="mastertrade.TRADETYPE"></div></td>
                                <td style="width: 20%; white-space: nowrap"><div ng-bind="mastertrade.EXCHANGE"></div></td>
                                <td style="width: 20%; white-space: nowrap"><div ng-bind="mastertrade.TRADINGPAIR"></div></td>
                                <td style="width: 20%; white-space: nowrap"><div ng-bind="mastertrade.BUYPRICE"></div></td>
                                <td style="width: 20%; white-space: nowrap"><div ng-bind="mastertrade.BUYTOTAL"></div></td>
                                <td style="width: 20%; white-space: nowrap"><div ng-bind="mastertrade.SELLPRICE"></div></td>
                                <td style="width: 20%; white-space: nowrap"><div ng-bind="mastertrade.SELLTOTAL"></div></td>
                                <td style="width: 20%; white-space: nowrap"><div ng-bind="mastertrade.SELLQUANTITY"></div></td>
                                <td style="width: 20%; white-space: nowrap"><div ng-bind="mastertrade.FIRSTACTION"></div></td>
                            </tr>
                        </tbody>
                    </table>

                    <pagination boundary-links="true" total-items="TotalMasterTrades" items-per-page="PageSize" ng-change="pageChanged()" ng-model="CurrentPageNumber" class="pagination-lg" previous-text="Prev" next-text="Next" first-text="First" last-text="Last"></pagination>

                    <div style="padding-top:0px; padding-bottom:0px">
                        <alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)"><div ng-bind-html="MessageBox"></div></alert>
                    </div>
                </section>
            </div>
        </div>
    </main>

</div>
